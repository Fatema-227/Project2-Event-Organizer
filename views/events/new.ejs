<%-include("../partials/_navbar.ejs")%>
<form action="/events" method="post">
  <label for="title">Title</label>
  <input type="text" name="title" id="title" required />
  <br />
  <label for="description">Description</label>
  <input type="text" name="description" id="description" />
  <br />
  <label for="dateTime">Date & Time</label>
  <input type="datetime-local" name="dateTime" id="dateTime" required />
  <br />
  <label for="address">Address</label>
  <input type="text" name="address" id="address" required />
  <br />
  <label for="isPublic">Is public?</label>
  <input type="checkbox" name="isPublic" id="isPublic" />
  <br />
  <div  id="limitContainer" style="display: none">
    <label for="limit">Guests limit</label>
    <input type="number" name="limit" id="limit"/>
    <br />
  </div>
<input type="text" name="eventStatus" id="eventStatus" value="draft" hidden>
  <!-- <label for="eventStatus">Event status</label>
  <select name="eventStatus" id="eventStatus">
    <option value="Draft">Draft</option>
    <option value="Sent">Sent</option>
    <option value="Completed">Completed</option>
  </select>
  <br /> -->
  <button type="submit" id="draft">Draft</button>
</form>

  <script>
    const isPublic = document.getElementById("isPublic")
    const guestsLimit = document.getElementById("limitContainer")
    let draftButton=document.querySelector("#draft")
    let sendButton=document.querySelector("#send")
    let status=document.querySelector("#eventStatus")
    isPublic.addEventListener("change", () => {
      if (isPublic.checked) {
        limitContainer.style.display = "block"
        document.getElementById("limit").required=true
      } else {
        limitContainer.style.display = "none"
        document.getElementById("limit").value = ""
      }
    })
    draftButton.addEventListener(("click"),()=>{
      status.value="Draft"
    })
    sendButton.addEventListener(("click"),()=>{
      status.value="Sent"
    })
  </script>
